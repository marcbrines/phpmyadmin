{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Benvinguts a la gu\u00eda de phpmyadmin de Marc","text":""},{"location":"#marc-brines-banuls-2-asix","title":"Marc Brines Ba\u00f1uls 2 ASIX","text":"<p>En aquesta guia de phpmyadmin esne\u00f1e a:</p> <ul> <li>Instal\u00b7lar phpmyadmin</li> <li>Configuraci\u00f3 de usuari root i personal a mysql</li> <li>Configuraci\u00f3 d'un location per al phpmyadmin</li> <li>Entrada via web.</li> <li>Scripts per a automatitzar aquestes coses.</li> </ul> <p>Documentaci\u00f3</p> <p>Scripts</p>"},{"location":"scripts_phpmyadmin/","title":"Scripts","text":"<p>Scripts Bash (automatizaci\u00f3n)</p> <ul> <li>.env (NO subir a repo) DOMAIN=mi-dominio.local MYSQL_ROOT_PASS=TU_PASS_ROOT PMA_DB_USER=pma_user PMA_DB_PASS=PMA_PASS_SEGURA PHP_VERSION=8.1</li> <li>install_lemp.sh #!/usr/bin/env bash set -euo pipefail</li> <li>Cargar variables source ./scripts/.env</li> </ul> <p>echo \"Instalando LEMP b\u00e1sico...\" sudo apt update</p> <p>sudo apt upgrade -y</p> <p>sudo apt install -y nginx mysql-server php${PHP_VERSION}-fpm \\</p> <p>php${PHP_VERSION}-mbstring php${PHP_VERSION}-zip php${PHP_VERSION}-gd php$ {PHP_VERSION}-json php${PHP_VERSION}-curl unzip wget git apache2-utils</p> <ul> <li>Asegurar MySQL root (no interactivo: usar expect ser\u00eda otra opci\u00f3n).</li> <li>Aqu\u00ed s\u00f3lo mostramos c\u00f3mo hacerlo v\u00eda mysql -e</li> </ul> <p>sudo mysql -e \"ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY '${MYSQL_ROOT_PASS}'; FLUSH PRIVILEGES;\"</p> <p>sudo systemctl enable --now nginx</p> <p>sudo systemctl enable --now mysql</p> <p>sudo systemctl enable --now php${PHP_VERSION}-fpm</p> <p>echo \"LEMP instalado.\"</p> <p>Una vez hecho le damos permisos.</p> <ul> <li>install_phpmyadmin.sh</li> </ul>"},{"location":"scripts_phpmyadmin/#usrbinenv-bash-set-euo-pipefail","title":"!/usr/bin/env bash set -euo pipefail","text":"<p>source ./scripts/.env PHP_VERSION=${PHP_VERSION:-8.1}</p> <p>echo \"Descargando phpMyAdmin...\"</p> <ul> <li>Version estable (ajustar si quieres versi\u00f3n espec\u00edfica)</li> </ul> <p>PMA_VER=\"5.2.1\"  # ejemplo; para producci\u00f3n verifica la \u00faltima versi\u00f3n oficial</p> <p>wget https://www.phpmyadmin.net/downloads/phpMyAdmin-${PMA_VER}-all-languages.zip -O /tmp/phpmyadmin.zip</p> <p>unzip /tmp/phpmyadmin.zip -d /tmp</p> <p>sudo mv /tmp/phpMyAdmin-${PMA_VER}-all-languages /usr/share/phpmyadmin</p> <p>sudo mkdir -p /usr/share/phpmyadmin/tmp</p> <p>sudo chown -R www-data:www-data /usr/share/phpmyadmin</p> <p>sudo chmod 750 /usr/share/phpmyadmin</p> <ul> <li>Crear configuraci\u00f3n m\u00ednima</li> </ul> <p>sudo cp /usr/share/phpmyadmin/config.sample.inc.php /usr/share/phpmyadmin/config.inc.php</p> <ul> <li>Generar blowfish secret</li> </ul> <p>BLOWFISH_SECRET=$(openssl rand -hex 32)</p> <p>sudo sed -i \"s|\\$cfg['blowfish_secret'] = ''|\\$cfg['blowfish_secret'] = '$ {BLOWFISH_SECRET}';|\" /usr/share/phpmyadmin/config.inc.php</p> <ul> <li>Crear usuario pma_user en MySQL</li> </ul> <p>sudo mysql -e \"CREATE USER IF NOT EXISTS '${PMA_DB_USER}'@'localhost' IDENTIFIED BY '${PMA_DB_PASS}'; GRANT ALL PRIVILEGES ON *.* TO '$ {PMA_DB_USER}'@'localhost' WITH GRANT OPTION; FLUSH PRIVILEGES;\"</p> <ul> <li>Configurar nginx site (archivo /etc/nginx/sites-available/phpmyadmin). Reemplaza DOMAIN por variable o IP</li> </ul> <p>sudo tee /etc/nginx/sites-available/phpmyadmin &gt; /dev/null &lt;&lt;EOF</p> <p>server {</p> <p>listen 80;</p> <p>server_name ${DOMAIN};</p> <p>root /usr/share/phpmyadmin;     index index.php index.html;</p> <p>location / {</p> <p>try_files \\$uri \\$uri/ =404;     }</p> <p>location ~ .php$ {</p> <p>include snippets/fastcgi-php.conf;</p> <p>fastcgi_pass unix:/run/php/php${PHP_VERSION}-fpm.sock;     }</p> <p>location /phpmyadmin {</p> <p>alias /usr/share/phpmyadmin/;</p> <p>index index.php index.html;</p> <p>auth_basic \"Restricted - phpMyAdmin\";</p> <p>auth_basic_user_file /etc/nginx/.htpasswd_phpmyadmin;     }</p> <p>}</p> <p>EOF</p> <p>sudo ln -sf /etc/nginx/sites-available/phpmyadmin /etc/nginx/sites-enabled/phpmyadmin sudo nginx -t</p> <p>sudo systemctl reload nginx</p> <p>echo \"phpMyAdmin instalado y configurado en /usr/share/phpmyadmin\"</p>"},{"location":"U2_P4_Brines_Marc%281%29/U2_P4_Brines_Marc/","title":"Documentaci\u00f3","text":"<p>UD2 \u2013 PR\u00c0CTICA 4</p> <p>Marc Brines Ba\u00f1uls 2 ASIX IAW</p> <p>Abans de comen\u00e7ar amb instal\u00b7lacions anem a actualitzar el server per si hi ha paquets a actualitzar nous.</p> <p></p> <p>Fig 1: Update a la m\u00e0quina server.</p> <p></p> <p>Fig 2: Upgrade de la m\u00e0quina</p> <p></p> <p>Fig 3: Instal\u00b7laci\u00f3 de les ferramentes necesaries.</p> <p></p> <p>Fig 4: Ens asegurem de que funciona.</p> <p></p> <p>Fig 5: Agafem el usuari root i establim un tipus de contrasenya i una contrasenya.</p> <p></p> <p>Fig 6: Apliquem els canvis.</p> <p></p> <p>Fig 7: Verifiquem les pases anteriors.</p> <p></p> <p>Fig 8: Creem el usuari dedicat al phpMyAdmin.</p> <p></p> <p>Fig 9: Instal\u00b7lem el phpmyadmin i durant la instal\u00b7laci\u00f3 hem de sel\u00b7leccionar apache2.</p> <p></p> <p>Fig 10: Fiquem que si al pas de l\u2019imatge.</p> <p></p> <p>Fig 11: Fiquem una contrasenya al phpmyadmin.</p> <p>Editem el fitxer de configuraci\u00f3 del defaut, i enves de descomentar, he afegit el text seg\u00fcent per a previndre falles.</p> <p></p> <p>Fig 12: Afegit al default</p> <p></p> <p>Fig 13: Reiniciem el servici i comprovem.</p> <p></p> <p>Fig 14: Altra comprovacio de altra forma.</p> <p>Des d\u2019altra m\u00e0quina conectada a la red del server entrem al navegador per a comprovar que ha funcionat tota la configuraci\u00f3 anterior i ens apareix la GUI de phpmyadmin.</p> <p></p> <p>Fig 15: Comprovaci\u00f3.</p> <p></p> <p>Fig 16: Fiquem usuari root i contrasenya que hem establit abans.</p> <p></p> <p>Fig 17: Cambiem el metode de autenticaci\u00f3 de root.</p> <p></p> <p>Fig 18: Comprovaci\u00f3.</p> <p></p> <p>Fig 19: Ara anem a crear un usuari per a gastar. Despr\u00e9s d\u2019instal\u00b7lar el htpasswd anem a emmagatzemar credencials de dos usuaris.</p> <p></p> <p>Fig 20: Fiquem dos usuaris.</p> <p></p> <p>Fig 21:  Editem el site de nginx i afegim la 4 i 5 l\u00ednea.</p> <p>Una  vegada  acabem  fem  per  terminal  es  seg\u00fcent  comandament,  i  per  a  comprovar  anem  al phpmyadmin GUI i recarreguem on deuria de demanar-nos noves credencials.</p> <p></p> <p>Fig 22: Carreguem el nginx.</p> <p></p> <p>Fig 23: Iniciem amb el nou usuari que hem guardat anteriorment.</p> <p></p> <p>Fig 24: Afegim seguretat al fitxer de la contrasenya.</p> <p>Ara anem a fer una guia tamb\u00e9 pas a pas per a pujar aquest projecte al github pages com feem anteriorment, com sempre, abans de res anem a crear el repositori a github.</p> <p></p> <p>Fig 25: Creaci\u00f3 del repositori.</p> <p></p> <p>Fig 26: Creaci\u00f3 del directori.</p> <p></p> <p>Fig 27: Creaci\u00f3 del index.</p> <p>Marc Brines Ba\u00f1uls 10 ASIX IAW</p> <p>10</p> <p></p> <p>Fig 28: Inicialitzaci\u00f3 del repositori.</p> <p>Falta el git add . Que no m\u2019he donat conter de la captura i el commit.</p> <p></p> <p>Fig 29: Pujem la branca i conectem repositori.</p> <p></p> <p>Fig 30: Pujem el fitxer. I fem un mkdocs gh-deploy per a les pages.</p> <p>Com durant la instal\u00b7laci\u00f3 no he fet servir els scripts ja que no se fer-los i per no copiar directament, ja que he seguit els pases de la web, vaig a ficar al mkdocs un enlla\u00e7 on dur\u00e0 a escripts que diu la pr\u00e0ctica per a automatitzar punts de la instl\u00b7laci\u00f3 i configuraci\u00f3. Marc Brines Ba\u00f1uls 1 ASIX IAW</p> <p>1</p>"}]}